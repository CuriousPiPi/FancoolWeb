<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <link rel="icon" type="image/png" href="/static/logo.png">
  <script>
    (function () {
      const savedTheme = localStorage.getItem('theme');
      const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = savedTheme || (systemPrefersDark ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', theme);
    })();
  </script>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>{% block title %}风扇库{% endblock %}</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font Awesome 6.5.2 -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer">

  <!-- CSS Modules -->
  <link rel="stylesheet" href="/static/css/variables.css">
  <link rel="stylesheet" href="/static/css/base.css">
  <link rel="stylesheet" href="/static/css/components.css">
  <link rel="stylesheet" href="/static/css/layout.css">
  <link rel="stylesheet" href="/static/css/chart.css">
  <link rel="stylesheet" href="/static/css/theme-dark.css">
  
  {% block extra_css %}{% endblock %}
</head>
<body class="bg-gray-50 min-h-screen">
  {% block body_content %}{% endblock %}

  <!-- JS Modules -->
  <script src="/static/js/api.js"></script>
  <script src="/static/js/state.js"></script>
  <script src="/static/js/likes.js"></script>
  <script src="/static/js/share.js"></script>
  <script src="/static/js/events.js"></script>
  <script src="/static/js/chart.js"></script>
  
  {% block extra_js %}{% endblock %}
  
  <script src="/static/js/index.js"></script>
</body>
</html>